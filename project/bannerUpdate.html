<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
<link rel="icon" href="images/favicon.ico">

<style>
/* CSS 변수 시스템 */
:root {
  --color-primary: #ff533f;
  --color-primary-light: #ff7a66;
  --color-primary-dark: #e63c28;
  --color-secondary: #6c757d;
  --color-neutral-100: #f8f9fa;
  --color-neutral-200: #e9ecef;
  --color-neutral-300: #dee2e6;
  --color-neutral-500: #adb5bd;
  --color-neutral-700: #495057;
  --color-neutral-800: #343a40;
  --color-neutral-900: #212529;
}
</style>

<div id="adminpage-container"></div>
<script>
    fetch('adminpage.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('adminpage-container').innerHTML = data;
            
            // 페이지 제목 변경
            document.getElementById('page-title').textContent = '메인배너 수정';
            
            // 현재 메뉴 활성화
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === 'bannerUpdate.html') {
                    link.classList.add('active');
                }
            });
            
            // admin-content에 정적 내용 추가
            const adminContent = document.getElementById('admin-content');
            if (adminContent) {
                adminContent.innerHTML = document.getElementById('adminContent').innerHTML;
            }
            
            // 작성 버튼 이벤트 리스너 추가
            document.getElementById('btnWrite').addEventListener('click', function (event) {
                event.preventDefault();
                previewImages();
            });
        });

    function previewImages() {
        const fileInput = document.getElementById('file');
        const bannerImgPre = document.getElementById('bannerImgPre');

        if (!fileInput.files.length) {
            alert('파일을 선택해주세요.');
            return;
        }

        bannerImgPre.innerHTML = '';

        Array.from(fileInput.files).forEach(file => {
            if (!file.type.startsWith('image/')) {
                alert('이미지 파일만 업로드 가능합니다.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function (e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                img.alt = '배너 미리보기';
                bannerImgPre.appendChild(img);
            }
            reader.readAsDataURL(file);
        });
        
        alert('이미지 미리보기가 생성되었습니다.');
    }
</script>

<style>
    #adminBanner {
        background-color: #ff8108;
        width: 302px;
    }

    #bannerImgPre {
        /* 플렉스 박스를 사용하여 가로 배치 */
        display: flex;
        /* 가로 스크롤 활성화 */
        overflow-x: auto;
        /* 줄 바꿈 방지 */
        white-space: nowrap;
        margin-left: 10px;
        padding: 10px;
    }

    #bannerImgPre img {
        width: 250px;
        height: auto;
        max-height: 150px;
        object-fit: cover;
        margin-right: 10px;
        border: 1px solid #ccc;
    }

    #bannerImg {
        border: 1px solid #ccc;
        width: 300px;
        height: auto;
        display: inline-block;
        vertical-align: top;
        margin-right: 10px;
        justify-content: center;
        align-items: center;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
    }

    /* Webkit 브라우저를 위한 스타일 */
    #bannerImgPre::-webkit-scrollbar {
        width: 12px;
    }

    #bannerImgPre::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    #bannerImgPre::-webkit-scrollbar-thumb {
        background-color: transparent;
        border-radius: 10px;
        background: var(--color-primary);
    }

    #bannerImgPre::-webkit-scrollbar {
        width: 12px;
    }

    #bannerImgPre::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    #bannerImgPre::-webkit-scrollbar-thumb {
        background-color: transparent;
        border-radius: 10px;
        background: var(--color-primary);
    }
</style>

<script type="text/javascript">



</script>

<!-- 안쪽 내용 -->
<div id="adminContent">
    <form action="./bannerUpdate" method="post" enctype="multipart/form-data">
        <div class="form-group mb-3 ms-3">
            <label class="form-label" for="file">첨부파일</label>
            <input type="file" class="form-control" name="file" id="file" multiple="multiple">
        </div>
        <div class="ms-3">
            <button class="btn btn-primary" id="btnWrite">작성</button>
            <button type="reset" class="btn btn-danger" id="btnCancel">취소</button>
        </div>
    </form>
    <br>
    <!-- 이미지 미리보기 -->
    <div id="bannerImgPre"></div> <!-- 이미지 미리보기를 위한 div -->
</div><!-- #adminContent -->
</body>

</html>