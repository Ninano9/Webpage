<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>HTML Intro</title>
    <style>
        .link-container {
            display: flex;
            flex-wrap: wrap; /* 여러 줄로 배치 */
            justify-content: space-around;
        }
        .link-item {
            width: 30%; /* 각 아이템이 3개씩 한 줄에 배치되도록 설정 */
            text-align: center;
            margin-bottom: 20px;
        }
        .thumbnail {
            border: 1px solid #ccc;
            display: block;
            width: 150px;
            height: auto;
            margin-bottom: 10px;
        }
        .pagination {
            text-align: center;
            margin-top: 20px;
        }
        .pagination span {
            padding: 10px;
            margin: 5px;
            cursor: pointer;
            border: 1px solid #ccc;
        }
        .active-page {
            font-weight: bold;
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <h1>hello world</h1>

    <div class="controls">
        <button onclick="sortLinks('newest')">lastest1</button>
        <button onclick="sortLinks('oldest')">oldest</button>
    </div>

    <div class="link-container" id="link-container">
        <!-- Links will be dynamically generated here -->
    </div>

    <div class="pagination" id="pagination">
        <!-- Page numbers will be dynamically generated here -->
    </div>

    <script>
        // 파일 URL, 썸네일 이미지, 페이지 이름을 저장한 배열
        const links = [
            { url: 'first.html', img: 'https://example.com/path/to/first-thumbnail.jpg', name: 'First Page' },
            { url: 'public/second.html', img: 'https://example.com/path/to/second-thumbnail.jpg', name: 'Second Page' },
            { url: 'third.html', img: 'https://example.com/path/to/third-thumbnail.jpg', name: 'Third Page' },
            { url: 'fourth.html', img: 'https://example.com/path/to/fourth-thumbnail.jpg', name: 'Fourth Page' },
            { url: 'fifth.html', img: 'https://example.com/path/to/fifth-thumbnail.jpg', name: 'Fifth Page' },
            { url: 'sixth.html', img: 'https://example.com/path/to/sixth-thumbnail.jpg', name: 'Sixth Page' },
            { url: 'seventh.html', img: 'https://example.com/path/to/seventh-thumbnail.jpg', name: 'Seventh Page' },
            { url: 'eighth.html', img: 'https://example.com/path/to/eighth-thumbnail.jpg', name: 'Eighth Page' },
            { url: 'ninth.html', img: 'https://example.com/path/to/ninth-thumbnail.jpg', name: 'Ninth Page' },
            { url: 'tenth.html', img: 'https://example.com/path/to/tenth-thumbnail.jpg', name: 'Tenth Page' },
            { url: 'eleventh.html', img: 'https://example.com/path/to/eleventh-thumbnail.jpg', name: 'Eleventh Page' },
            { url: 'twelfth.html', img: 'https://example.com/path/to/twelfth-thumbnail.jpg', name: 'Twelfth Page' }
        ];

        let currentPage = 1;
        const itemsPerPage = 9;
        let sortedLinks = [...links]; // 정렬된 링크를 저장

        function displayLinks() {
            const linkContainer = document.getElementById('link-container');
            linkContainer.innerHTML = ''; // 기존 내용을 초기화

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, sortedLinks.length);

            for (let i = startIndex; i < endIndex; i++) {
                const link = sortedLinks[i];
                linkContainer.innerHTML += `
                    <div class="link-item">
                        <a href="${link.url}">
                            <img src="${link.img}" alt="Thumbnail" class="thumbnail">
                            ${link.name} <!-- 페이지 이름 표시 -->
                        </a>
                    </div>
                `;
            }
            updatePagination();
        }

        function updatePagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = ''; // 기존 페이지네이션 초기화

            const totalPages = Math.ceil(sortedLinks.length / itemsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                pagination.innerHTML += `
                    <span class="${i === currentPage ? 'active-page' : ''}" onclick="goToPage(${i})">${i}</span>
                `;
            }
        }

        function goToPage(pageNumber) {
            currentPage = pageNumber;
            displayLinks();
        }

        // 최신순 또는 오래된 순으로 정렬하는 함수
        function sortLinks(order) {
            if (order === 'newest') {
                sortedLinks = [...links].reverse(); // 최신순 정렬 (배열을 반전시킴)
            } else if (order === 'oldest') {
                sortedLinks = [...links]; // 오래된 순 정렬 (원래 순서로 복구)
            }
            currentPage = 1; // 첫 페이지로 이동
            displayLinks();
        }

        // 초기 링크 표시
        displayLinks();
    </script>
</body>
</html>
